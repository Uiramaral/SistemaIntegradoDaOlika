# üîÑ Alternativas de Configura√ß√£o .htaccess

Se a configura√ß√£o atual n√£o funcionar, tente uma dessas alternativas:

## ‚ö†Ô∏è IMPORTANTE: Ajuste o caminho do Laravel conforme sua estrutura

Verifique onde est√° o Laravel no servidor:
```bash
# No servidor, execute:
ls -la /home/usuario/
# ou
find /home/usuario -name "artisan" -type f 2>/dev/null
```

---

## Op√ß√£o 1: Caminho Relativo (se Laravel est√° em `public_html/sistema/`)

```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirecionar API BotConversa para Laravel
    RewriteCond %{REQUEST_URI} ^/api/botconversa
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^api/botconversa(.*)$ sistema/public/index.php [L,QSA]
</IfModule>
```

---

## Op√ß√£o 2: Caminho Absoluto (se Laravel est√° em `/home/usuario/sistema/`)

**IMPORTANTE:** Ajuste o caminho `/sistema/` conforme sua estrutura real.

```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirecionar API BotConversa para Laravel (caminho absoluto)
    RewriteCond %{REQUEST_URI} ^/api/botconversa
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^api/botconversa(.*)$ /sistema/public/index.php [L,QSA]
</IfModule>
```

**Se o Laravel estiver em outro caminho, ajuste:**
- `/menuolika/public/index.php`
- `/app/public/index.php`
- `/home/usuario/sistema/public/index.php` (caminho completo)

---

## Op√ß√£o 3: Redirecionamento com Proxy Pass (se mod_proxy estiver habilitado)

```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirecionar API BotConversa para Laravel
    RewriteCond %{REQUEST_URI} ^/api/botconversa
    RewriteRule ^api/botconversa(.*)$ sistema/public$0 [L]
</IfModule>
```

---

## Op√ß√£o 4: Configura√ß√£o Mais Completa

```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    
    # Redirecionar API BotConversa para Laravel
    RewriteCond %{REQUEST_URI} ^/api/botconversa
    RewriteCond %{DOCUMENT_ROOT}/sistema/public/index.php -f
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^api/botconversa(.*)$ sistema/public/index.php [L,QSA]
</IfModule>
```

---

## Op√ß√£o 5: Incluir todo o diret√≥rio /api/ no Laravel

Se voc√™ quiser que TODAS as rotas `/api/*` passem pelo Laravel:

```apache
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Redirecionar TODAS as rotas /api/ para Laravel
    RewriteCond %{REQUEST_URI} ^/api/
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^api/(.*)$ sistema/public/index.php [L,QSA]
</IfModule>
```

---

## üîç Como Descobrir o Caminho Correto

### 1. Via SSH (recomendado)

```bash
# Encontrar onde est√° o Laravel
find /home/usuario -name "artisan" -type f 2>/dev/null

# Verificar estrutura
ls -la /home/usuario/
ls -la /home/usuario/sistema/
ls -la /home/usuario/sistema/public/
```

### 2. Verificar a partir do public_html

```bash
# No diret√≥rio public_html
cd /home/usuario/public_html
ls -la ../sistema/public/index.php
# Se existir, o caminho relativo √©: ../sistema/public/
```

---

## ‚úÖ Teste Passo a Passo

1. **Escolha uma das op√ß√µes acima** conforme sua estrutura
2. **Ajuste o caminho** do Laravel
3. **Fa√ßa upload** do arquivo para `/home/usuario/public_html/.htaccess`
4. **Teste:**
   ```bash
   curl -I https://menuolika.com.br/api/botconversa/ping
   ```
   
   Deveria retornar HTTP 200 e JSON, n√£o phpinfo()

5. **Se n√£o funcionar, verifique os logs:**
   ```bash
   tail -f /var/log/apache2/error.log
   ```

---

## üö® Troubleshooting

### Erro: "Internal Server Error"
- Verifique se o caminho do Laravel est√° correto
- Verifique se o arquivo `index.php` existe no caminho especificado
- Verifique as permiss√µes

### Erro: "Not Found"
- O caminho do Laravel est√° incorreto
- Use caminho absoluto ao inv√©s de relativo (ou vice-versa)

### Ainda mostra phpinfo()
- O .htaccess n√£o est√° sendo processado
- Verifique se mod_rewrite est√° habilitado
- Verifique se h√° outro .htaccess interferindo

